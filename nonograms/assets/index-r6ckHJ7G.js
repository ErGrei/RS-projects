(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=e(l);fetch(l.href,o)}})();class r{constructor(e){this.element=null,this.setЕlement(e),this.getElement()}getElement(){return this.element}setЕlement(e){this.element=document.createElement(e.teg),this.setClassName(e),this.setTextContent(e)}setClassName(e){this.element.className=e.className}setTextContent(e){this.element.textContent=e.text}}class V{constructor(e,n,l){this.element=null,this.setElements(e),this.setGameCells(e,n,l)}getElement(){return this.element}setElements(e){this.element=new r(e).getElement()}setGameCells(e,n,l){for(let o=0;o<l.length;o++)for(let c=0;c<l[o].length;c++)this.element.append(new r(n).getElement())}}class q{constructor(e,n,l){this.element=null,this.setElements(e),this.setGameCells(n,l)}getElement(){return this.element}setElements(e){this.element=new r(e).getElement()}setGameCells(e,n){for(let l=0;l<n.length;l++)for(let o=0;o<n[l].length;o++)this.element.append(new r(e).getElement())}}const z={teg:"div",className:"wrapper-cells",text:""},W={teg:"div",className:"game-cells",text:""},A={teg:"main",className:"main",text:""},K={teg:"div",className:"wraper-left-tips",text:""},Y={teg:"div",className:"wraper-top-tips",text:""},$={teg:"div",className:"left-tips-elem",text:""},J={teg:"div",className:"top-tips-elem",text:""},Q={teg:"div",className:"wraper-tips-elem",text:""},U={teg:"div",className:"corner-playing-field",text:""},M=[{teg:"span",className:"timer-minits",text:"00"},{teg:"span",className:"timer-delimiter",text:":"},{teg:"span",className:"timer-seconds",text:"00"}],X={teg:"header",className:"header",text:""},Z={teg:"nav",className:"navbar",text:""},_={teg:"h1",className:"title",text:"Nonograms game"},ee={teg:"h1",className:"final-title",text:"Great! You solved the nonogram for "},C=[{teg:"span",className:"left-span",text:""},{teg:"span",className:"right-span",text:""}],te={teg:"button",className:"hint-button button",text:"Show answer"},ne=["Ease 5x5","Medium 10x10"," Hard 15x15"],L=[["Tower","Staircase","Window","Dog","Flag"],["Tree","TV","Snail","Note","Mouse"],["Mouse","Moose","Fortress","Duck","House"]],G=[[[[1,0,1,0,1],[0,1,1,1,0],[0,1,1,1,0],[0,1,0,1,0],[0,1,1,1,0]],[[0,0,0,1,1],[0,0,1,1,1],[0,1,1,0,1],[1,1,0,0,1],[1,1,1,1,1]],[[1,1,1,1,1],[1,0,1,0,1],[1,1,1,0,1],[1,0,1,0,1],[1,1,1,1,1]],[[0,0,0,1,0],[1,0,1,1,1],[0,1,1,1,0],[0,1,0,1,0],[0,1,0,1,0]],[[1,1,1,1,1],[1,0,1,0,1],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0]]],[[[0,0,1,1,1,1,1,1,0,0],[0,1,1,1,1,0,1,1,1,0],[1,1,1,1,1,0,1,1,1,1],[1,1,0,1,1,1,0,0,1,1],[1,1,1,0,1,1,1,1,1,0],[0,1,1,1,1,1,0,0,0,0],[0,0,0,0,1,1,1,0,0,0],[0,0,0,0,1,1,0,0,0,0],[1,0,0,0,1,1,0,0,0,1],[1,1,1,1,1,1,1,1,1,1]],[[0,0,1,0,0,0,0,1,0,0],[0,0,0,1,0,0,1,0,0,0],[1,1,1,1,1,1,1,1,1,1],[1,0,1,1,0,0,0,0,1,1],[1,1,1,0,0,0,0,0,0,1],[1,0,1,0,0,0,0,0,0,1],[1,1,1,0,0,0,0,0,0,1],[1,1,1,1,0,0,0,0,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,0,0,0,0,0,0,1,0]],[[0,0,1,1,1,1,0,0,0,0],[0,1,1,0,1,1,1,0,0,0],[1,1,1,1,0,1,1,1,0,0],[1,0,1,1,1,0,1,1,0,0],[1,1,1,1,1,0,1,1,0,0],[1,1,1,1,0,1,1,0,0,0],[0,1,1,1,1,1,1,0,1,0],[1,1,1,1,1,1,0,0,0,1],[0,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,0]],[[0,0,0,0,0,0,1,1,1,1],[0,0,0,1,1,1,0,0,0,1],[0,0,0,1,0,0,0,1,1,1],[0,0,0,1,1,1,1,0,0,1],[0,0,0,1,0,0,0,0,0,1],[0,0,0,1,0,0,0,1,1,1],[0,1,1,1,0,0,1,1,1,1],[1,1,1,1,0,0,1,1,1,1],[1,1,1,1,0,0,0,1,1,0],[0,1,1,0,0,0,0,0,0,0]],[[0,0,1,1,1,0,0,1,1,0],[0,1,0,0,1,0,1,0,0,1],[0,1,0,1,1,1,1,1,0,1],[0,0,1,1,0,1,0,1,1,0],[0,0,0,1,1,1,1,1,0,0],[0,0,1,1,1,0,1,1,1,0],[1,0,1,1,1,1,1,1,1,1],[1,0,1,1,1,1,1,1,1,1],[1,0,1,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,1,1,0]]],[[[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1],[0,0,0,0,0,1,1,1,1,0,0,1,1,0,1],[0,0,0,1,1,1,0,0,1,0,0,1,0,1,0],[1,1,1,0,1,0,0,1,1,0,0,1,0,0,0],[1,1,0,0,0,0,0,1,0,0,0,1,1,0,0],[0,1,1,1,1,0,0,1,1,0,0,0,1,1,0],[0,0,0,0,1,1,0,0,1,1,0,0,0,1,1],[0,0,0,0,0,1,0,0,0,1,1,1,0,0,1],[0,0,0,0,0,1,1,0,0,0,0,1,1,0,1],[0,0,0,1,1,1,1,0,0,0,0,0,1,1,1],[0,0,0,1,0,1,0,0,1,1,0,0,0,1,1],[0,0,0,0,0,1,0,0,1,0,0,0,0,1,0],[0,0,0,0,0,0,1,0,1,0,0,0,0,1,0],[0,0,0,0,0,1,1,1,1,1,0,0,1,1,0],[0,0,0,1,1,1,0,1,1,0,1,1,1,0,0]],[[1,1,0,1,1,0,0,0,0,0,0,1,1,0,1],[1,1,0,1,1,0,1,0,0,1,0,1,1,0,1],[0,1,1,1,1,0,1,0,0,1,0,1,1,0,1],[0,0,1,1,1,1,1,0,0,0,1,1,1,1,1],[0,0,0,1,1,1,0,1,1,1,1,1,0,0,0],[0,0,0,0,0,0,1,1,1,1,1,1,1,0,0],[0,0,0,0,0,1,0,1,0,1,1,1,1,1,0],[0,0,0,0,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,1,1,1,1,1,1,1,1,0,1,1,1,1,1],[0,1,0,1,1,1,0,0,0,0,1,1,1,1,1],[0,1,1,1,1,1,0,0,0,0,1,1,1,1,1],[0,0,1,1,1,0,0,0,0,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,1,1,1,1,1,1]],[[0,0,0,0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0],[1,1,0,1,1,0,1,0,0,0,1,1,0,1,1],[1,1,1,1,1,0,1,0,0,0,1,1,1,1,1],[1,0,0,0,1,0,1,0,0,0,1,0,0,0,1],[1,0,1,0,1,0,1,0,0,0,1,0,1,0,1],[1,0,1,0,1,1,1,1,1,1,1,0,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,1,0,0,0,0,0,0,0,1,0,0,1],[1,0,1,1,1,0,0,1,0,0,1,1,1,0,1],[1,0,0,1,0,0,1,1,1,0,0,1,0,0,1],[1,0,0,1,0,0,1,1,1,0,0,1,0,0,1],[1,0,0,0,0,0,1,1,1,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[0,0,0,0,0,0,0,0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,1,1,1,1,1,0,0],[0,0,0,0,0,0,0,1,1,1,1,0,1,1,1],[0,0,0,0,0,0,0,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,1,1,1,1,1,0,0],[0,0,0,0,0,0,0,0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,0,1,1,1,1,1,0,0],[1,0,0,0,0,0,1,1,1,1,1,1,1,1,0],[1,1,1,0,0,1,1,1,0,0,0,1,1,1,0],[1,1,1,1,1,1,1,0,1,1,1,0,1,1,0],[0,1,1,1,1,1,0,1,1,1,1,0,1,1,0],[0,1,1,1,1,1,1,1,1,0,0,1,1,0,0],[0,0,1,1,1,1,1,1,1,1,1,1,0,0,0],[0,0,0,0,1,1,0,1,1,1,0,0,0,0,0],[0,0,0,0,0,0,1,1,1,1,1,1,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,1,1,0,0,0,0],[0,0,0,1,1,1,1,1,1,1,1,1,0,0,0],[0,0,1,1,1,1,1,0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,1,0,1,0,1,0,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,1,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,1,0,1,1,1,0,0,0,0,1,1,0,1,0],[0,1,0,1,1,1,0,1,1,0,1,1,0,1,0],[0,1,0,0,0,0,0,1,1,0,0,0,0,1,0],[0,1,0,0,0,0,0,1,1,0,0,0,0,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]]];let N,a=0,m=0,E=0;const le=()=>{E++,document.querySelector(".timer-seconds").innerHTML="0"+m,E>90&&(m++,E=0),m>9&&(document.querySelector(".timer-seconds").innerHTML=m),m>59&&(a++,document.querySelector(".timer-minits").innerHTML="0"+a,m=0,document.querySelector(".timer-seconds").innerHTML="0"+m),a>9&&(document.querySelector(".timer-minits").innerHTML=a)};function oe(){N=setInterval(le,10)}function H(){clearInterval(N)}function b(){clearInterval(N),a=0,m=0,E=0}function ce(){const t=document.querySelector(".navbar"),e=document.createElement("div");e.className="music-mode";const n=document.createElement("label");n.textContent="Music mode";const l=document.createElement("input");l.type="checkbox",l.id="music-mode",l.className="music-mode-checkbox",l.checked=!0,n.prepend(l),e.append(n),t.append(e)}function se(){document.getElementById("music-mode").checked&&new Audio("../../../public/right.mp3").play()}function re(){document.getElementById("music-mode").checked&&new Audio("../../../public/left.mp3").play()}function ie(){document.getElementById("music-mode").checked&&new Audio("../../../public/win.mp3").play()}function me(){document.querySelector(".main").remove();const t=new r(A).getElement(),e=document.createElement("div");e.className="final-wraper",document.body.append(t),ie(),H();const n=new r(ee).getElement();t.append(e),e.append(n);let l,o;m<=9&&(o="0"+m),m>9&&(o=m),a<=9&&(l="0"+a),a>9&&(l=a),document.querySelector(".final-title").innerHTML+=l+":"+o+" seconds!",ae()}function ae(){const t=document.querySelector(".final-wraper"),e=document.createElement("button");e.className="new-game-btn button",e.textContent="New game",t.append(e),e.addEventListener("click",ue)}function ue(){document.querySelector(".main").remove(),document.querySelector(".header").remove(),F()}let i=G[0][0];function O(t,e){return i=G[t][e],i}function de(){let t=I(i.length,i.length);const e=document.querySelectorAll(".game-cells");let n=0,l=0,o=0;for(let c=0;c<e.length;c++)o<=t.length&&(e[c].classList.contains("cells-black")?t[n][l]=1:t[n][l]=0,l++,o++),o==t.length&&(l=0,o=0,n++);fe(t)}function fe(t){let e=!0;n(t);function n(l){for(let o=0;o<l.length;o++){for(let c=0;c<l[o].length;c++)if(l[o][c]!==i[o][c]){e=!1;break}if(e===!1)break}}e===!0&&(me(),console.log("Win!!"))}let k=[];const pe=i.length,ge=i.length;I(pe,ge);function I(t,e){return document.documentElement.style.setProperty("--field-size",i.length*26+2+"px"),document.documentElement.style.setProperty("--grid",t),k=Array.from({length:e},()=>Array.from({length:t},()=>0)),k}let y=0;function he(t){const e=document.querySelector(".wrapper-cells");document.querySelector(".hint-button").addEventListener("click",()=>{H();const l=document.querySelectorAll(".game-cells");e.removeEventListener("mousedown",t);for(let o=0;o<i.length;o++)for(let c=0;c<i[o].length;c++)i[o][c]===1&&(l[y].classList.remove("cells-cross"),l[y].classList.add("cells-black"),y++),i[o][c]===0&&(l[y].classList.add("cells-cross"),y++);y=0})}let g=[],h=[],u=0,d=0,f=0,p=0;const B=i;w(B);v(B);function j(){g=[],h=[]}function v(t){const e=[];g.push(e);for(let n=0;n<t.length;n++)t[n][u]===1?d++:t[n][u]!==1&&d>0&&(g[u].unshift(d),d=0),n===t.length-1&&d>0&&(g[u].unshift(d),d=0);return u++,u!==t.length&&v(t),u=0,D(g),g}function w(t){const e=[];h.push(e);for(let n=0;n<t.length;n++)t[f][n]===1?p++:t[f][n]!==1&&p>0&&(h[f].unshift(p),p=0),n===t.length-1&&p>0&&(h[f].unshift(p),p=0);return f++,f!==t.length&&w(t),f=0,D(h),h}function D(t){let e=0;for(let n=0;n<t.length;n++)e<t[n].length&&(e=t[n].length);for(let n=0;n<t.length;n++)for(let l=0;l<t[n].length;l++)e>t[n].length&&t[n].push(0)}let T=0,P=0;function ye(){const t=document.querySelector(".lvl");t.addEventListener("change",n);const e=document.querySelector(".picture");e.addEventListener("change",n);function n(){b(),document.querySelector(".main").remove(),j(),T=t.options[t.selectedIndex].value,P=e.options[e.selectedIndex].value;let c=O(T,P);document.documentElement.style.setProperty("--grid",c.length);let s=w(c),x=v(c);S(c,x,s)}t.onchange=function(){b();let o=t.selectedIndex;for(let c=0;c<L[0].length;c++)e.options[c].textContent=L[o][c]}}function Ee(){const t=document.querySelector(".navbar"),e=document.createElement("button");e.className="reset-game button",e.textContent="Reset game",t.append(e),e.addEventListener("click",be)}function be(){b(),document.querySelector(".main").remove(),j();let t=O(T,P);document.documentElement.style.setProperty("--grid",t.length);let e=w(t),n=v(t);S(t,n,e)}function ve(){const t=document.querySelector(".wrapper-cells");t.removeEventListener("mousedown",e),t.addEventListener("mousedown",e);function e(c){let s=c.target;if(c.button===0){if(!c.target.classList.contains("game-cells"))return;n(s),se(),E===0&&oe()}else if(c.button===2){if(!c.target.classList.contains("game-cells"))return;o(),l(s),re()}}function n(c){c.classList.remove("cells-cross"),c.classList.toggle("cells-black"),de()}function l(c){c.classList.remove("cells-black"),c.classList.toggle("cells-cross")}function o(){t.addEventListener("contextmenu",function(c){c.preventDefault()})}he(e)}function we(t){const e=document.querySelectorAll(".left-tips-elem");document.documentElement.style.setProperty("--left-tips-col",t[0].length);let n=0;t.length-1;let l=t[0].length-1;for(let o=0;o<t.length;o++)for(let c=0;c<t[o].length;c++)t[o][l-c]!==0?e[n].innerHTML=t[o][l-c]:e[n].innerHTML="",n++}function xe(t){const e=document.querySelectorAll(".top-tips-elem");let n=0,l=t[0].length-1;for(let o=0;o<t[o].length;o++){for(let c=0;c<t.length;c++)t[c][l]!==0?e[n].innerHTML=t[c][l]:e[n].innerHTML="",n++;l--}}function Le(){const t=document.querySelectorAll(".game-cells");for(let e=0;e<t.length;e++)for(let n=0;n<C.length;n++)t[e].append(new r(C[n]).getElement())}function ke(){const t=document.querySelector(".corner-playing-field");for(let e=0;e<M.length;e++)t.append(new r(M[e]).getElement())}function Te(){ke()}function Pe(t,e){const n=document.querySelector(".navbar"),l=document.createElement("select");l.classList="lvl select";const o=document.createElement("select");o.classList="picture select";for(let c=0;c<t.length;c++){const s=document.createElement("option");s.value=c,s.text=t[c],l.append(s)}n.append(l);for(let c=0;c<e[0].length;c++){const s=document.createElement("option");s.value=c,s.text=e[0][c],o.append(s)}n.append(o)}function Ne(){const t=document.querySelector(".navbar"),e=document.createElement("div");e.className="darck-mode";const n=document.createElement("label");n.textContent="Darck mode";const l=document.createElement("input");l.type="checkbox",l.id="darck-mode",l.className="darck-mode-checkbox",n.prepend(l),e.append(n),t.append(e)}function Se(){const t=document.getElementById("darck-mode");t.addEventListener("change",e);function e(){t.checked?(document.documentElement.style.setProperty("--fon","rgba(4, 1, 27, 0.988)"),document.documentElement.style.setProperty("--fon-button","rgb(88, 96, 138)"),document.documentElement.style.setProperty("--fon-text","rgba(231, 230, 234, 0.974)"),document.documentElement.style.setProperty("--fon-cells","rgb(23, 5, 95)"),document.documentElement.style.setProperty("--fon-black","rgb(221, 224, 231)"),document.documentElement.style.setProperty("--fon-cells-cross","rgb(2, 2, 44)"),document.documentElement.style.setProperty("--fon-cross-span","#e9e9f1")):(document.documentElement.style.setProperty("--fon","rgb(248, 251, 251)"),document.documentElement.style.setProperty("--fon-button","rgb(197, 244, 244)"),document.documentElement.style.setProperty("--fon-text","rgba(12, 1, 96, 0.974)"),document.documentElement.style.setProperty("--fon-cells","azure"),document.documentElement.style.setProperty("--fon-black","black"),document.documentElement.style.setProperty("--fon-cells-cross","rgb(216, 221, 221)"),document.documentElement.style.setProperty("--fon-cross-span","#403f3d"))}}function qe(){const t=new r(X).getElement(),e=new r(_).getElement(),n=new r(Z).getElement(),l=new r(te).getElement();document.body.prepend(t),t.append(n),t.append(e),n.append(l),S(k,g,h),Pe(ne,L),Ne(),Se(),ce(),Ee()}function S(t,e,n){const l=new r(A).getElement(),o=new r(Q).getElement(),c=new r(U).getElement(),s=new q(K,$,n).getElement(),x=new q(Y,J,e).getElement(),R=new V(z,W,t).getElement();document.body.append(l),l.append(o),o.append(c),o.append(x),o.append(s),o.append(R),we(n),xe(e),Te(),ve(),Le()}F();function F(){qe(),ye(),b(),document.documentElement.style.setProperty("--fon","rgb(248, 251, 251)"),document.documentElement.style.setProperty("--fon-button","rgb(197, 244, 244)"),document.documentElement.style.setProperty("--fon-text","rgba(12, 1, 96, 0.974)"),document.documentElement.style.setProperty("--fon-cells","azure"),document.documentElement.style.setProperty("--fon-black","black"),document.documentElement.style.setProperty("--fon-cells-cross","rgb(216, 221, 221)"),document.documentElement.style.setProperty("--fon-cross-span","#403f3d")}
